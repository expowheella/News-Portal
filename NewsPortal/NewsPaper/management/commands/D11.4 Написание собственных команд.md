D11.4 Написание собственных команд

Для того чтобы создать собственную команду надо выбрать приложение, с которым она будет логически связана, и создать в его папке следующую структуру, например так: 
<i><h4>sample_app/management/commands/имя вашей команды.py</h4></i>

Создал файл delnews.py для удаления новостей по категории:

    from django.core.management.base import BaseCommand, CommandError
    from NewsPaper.models import Post
    
    
    class Command(BaseCommand):
       # подсказка при вводе "python manage.py <команда> --help"
        help = 'Подсказка вашей команды' 
       
       # напоминать ли о миграциях
       requires_migrations_checks = True
    

        # сам метод, который выполнется при вызове команды: python manage.py delnews
       def handle(self, *args, **options):
           
           self.stdout.readable()
    
           self.stdout.write(
               'Please choose post category')  # спрашиваем какую категорию статьи удалить
           choise = input()  # считываем
    
           self.stdout.write(
               'Do you really want to delete all posts? yes/no')  # спрашиваем пользователя действительно ли он хочет
           # удалить все новости
           answer = input()  # считываем подтверждение
    
           if answer == 'yes':  # в случае подтверждения действительно удаляем все посты указанной категории

               Post.objects.filter(post_category__article_category=choise).delete() # достаем статьи по фильтру и удаляем
    
               self.stdout.write(self.style.SUCCESS('Posts are wiped!')) # в случае успеха
               return
    
           self.stdout.write(
               self.style.ERROR('Access denied'))  # в случае неправильного подтверждения, говорим что в доступе отказано
